<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–ø–æ—Ö–∞ –ü–µ—Ä–µ–º–µ–Ω</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="app.js"></script>
</head>
<body>

    <!-- –≠–ö–†–ê–ù –ù–ê–°–¢–†–û–ô–ö–ò -->
    <div id="setup-screen">
        <div class="setup-container">
            <h2>–≠–ø–æ—Ö–∞ –ü–µ—Ä–µ–º–µ–Ω</h2>
            <p style="text-align:center; color:var(--text-dim); margin-bottom:20px;">–¢–µ–∫—Å—Ç–æ–≤–∞—è RPG –æ –∂–∏–∑–Ω–∏ –≤ –†–æ—Å—Å–∏–∏ 90-—Ö</p>

            <!-- –°–µ–∫—Ü–∏—è API –∫–ª—é—á–∞ -->
            <div class="setup-section api-section">
                <h3>üîë API –ö–ª—é—á</h3>
                <input type="password" id="api-key" placeholder="sk-or-... (OpenRouter)">
            </div>

            <!-- –°–µ–∫—Ü–∏—è –°–ª–æ–∂–Ω–æ—Å—Ç–∏ -->
            <div class="setup-section">
                <h3>‚öîÔ∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å</h3>
                <div class="setup-row">
                    <div class="option-buttons" id="difficulty-btns">
                        <button class="option-btn selected" data-value="normal">üõ°Ô∏è –ù–æ—Ä–º–∞</button>
                        <button class="option-btn" data-value="hardcore">üíÄ –•–∞—Ä–¥–∫–æ—Ä</button>
                    </div>
                </div>
                <div class="difficulty-info" id="difficulty-info">
                    <strong>–ù–æ—Ä–º–∞:</strong> 4 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –≤—ã–±–æ—Ä–∞. –û–¥–Ω–æ —á—É–¥–µ—Å–Ω–æ–µ —Å–ø–∞—Å–µ–Ω–∏–µ –∑–∞ –∏–≥—Ä—É.
                </div>
            </div>

            <!-- –°–µ–∫—Ü–∏—è –ü–µ—Ä—Å–æ–Ω–∞–∂–∞ -->
            <div class="setup-section">
                <h3>üë§ –ü–µ—Ä—Å–æ–Ω–∞–∂</h3>
                <div class="setup-row">
                    <label>–ü–æ–ª:</label>
                    <div class="option-buttons" id="gender-btns">
                        <button class="option-btn selected" data-value="male">‚ôÇ –ú–∞–ª—å—á–∏–∫</button>
                        <button class="option-btn" data-value="female">‚ôÄ –î–µ–≤–æ—á–∫–∞</button>
                    </div>
                </div>
                <div class="setup-row">
                    <label>–í–æ–∑—Ä–∞—Å—Ç:</label>
                    <select id="start-age">
                        <option value="5">5 –ª–µ—Ç (–¥–µ—Ç—Å–∞–¥)</option>
                        <option value="6">6 –ª–µ—Ç (–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)</option>
                        <option value="7" selected>7 –ª–µ—Ç (1 –∫–ª–∞—Å—Å)</option>
                        <option value="8">8 –ª–µ—Ç (2 –∫–ª–∞—Å—Å)</option>
                        <option value="9">9 –ª–µ—Ç (3 –∫–ª–∞—Å—Å)</option>
                        <option value="10">10 –ª–µ—Ç (4 –∫–ª–∞—Å—Å)</option>
                        <option value="11">11 –ª–µ—Ç (5 –∫–ª–∞—Å—Å)</option>
                        <option value="12">12 –ª–µ—Ç (6 –∫–ª–∞—Å—Å)</option>
                    </select>
                </div>
            </div>

            <!-- –°–µ–∫—Ü–∏—è –õ–æ–∫–∞—Ü–∏–∏ -->
            <div class="setup-section">
                <h3>üìç –õ–æ–∫–∞—Ü–∏—è</h3>
                
                <!-- –¢–∏–ø –Ω–∞—Å–µ–ª–µ–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ -->
                <div class="setup-row">
                    <label>–¢–∏–ø:</label>
                    <div class="option-buttons" id="location-type-btns" style="flex-wrap:wrap;">
                        <button class="option-btn" data-value="village">üè° –°–µ–ª–æ</button>
                        <button class="option-btn" data-value="town">üèòÔ∏è –ì–æ—Ä–æ–¥</button>
                        <button class="option-btn selected" data-value="capital">üèôÔ∏è –°—Ç–æ–ª–∏—Ü–∞</button>
                    </div>
                </div>
                
                <!-- –†–µ–≥–∏–æ–Ω (–¥–ª—è —Å–µ–ª –∏ –≥–æ—Ä–æ–¥–æ–≤) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–∫—Ä—ã—Ç -->
                <div class="setup-row" id="region-select-row" style="display: none;">
                    <label>–†–µ–≥–∏–æ–Ω:</label>
                    <select id="region-select" class="region-select">
                        <option value="central">üå≤ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –†–æ—Å—Å–∏—è</option>
                        <option value="siberia">‚ùÑÔ∏è –°–∏–±–∏—Ä—å</option>
                        <option value="far_east">üåä –î–∞–ª—å–Ω–∏–π –í–æ—Å—Ç–æ–∫</option>
                        <option value="ural">‚õ∞Ô∏è –£—Ä–∞–ª</option>
                        <option value="black_sea">üèñÔ∏è –ß–µ—Ä–Ω–æ–º–æ—Ä—Å–∫–æ–µ –ø–æ–±–µ—Ä–µ–∂—å–µ</option>
                        <option value="north_caucasus">üèîÔ∏è –°–µ–≤–µ—Ä–Ω—ã–π –ö–∞–≤–∫–∞–∑</option>
                    </select>
                </div>
                
                <!-- –ì–æ—Ä–æ–¥ (–¥–ª—è —Å—Ç–æ–ª–∏—Ü) - –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∏–¥–∏–º -->
                <div class="setup-row" id="city-select-row">
                    <label>–ì–æ—Ä–æ–¥:</label>
                    <select id="city-select" class="city-select">
                        <option value="moscow">üèõÔ∏è –ú–æ—Å–∫–≤–∞</option>
                        <option value="spb">üåâ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                        <option value="novosibirsk">üè≠ –ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
                        <option value="vladivostok">‚öì –í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫</option>
                        <option value="ekaterinburg">üèóÔ∏è –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
                        <option value="rostov">üåª –†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É</option>
                        <option value="grozny">üïå –ì—Ä–æ–∑–Ω—ã–π</option>
                    </select>
                </div>
                
                <!-- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –ª–æ–∫–∞—Ü–∏–∏ -->
<div class="location-description" id="location-description" style="margin-top:10px; padding:12px 16px; background:#f0e9de; border:1px solid var(--border-color); border-radius:40px; font-size:0.85rem; color:var(--text-dim);">
    –ú–æ—Å–∫–≤–∞ ‚Äî —Å—Ç–æ–ª–∏—Ü–∞, –æ–≥—Ä–æ–º–Ω—ã–π –º—É—Ä–∞–≤–µ–π–Ω–∏–∫...
</div>
            </div>

            <!-- –°–µ–∫—Ü–∏—è –¢–µ–º–ø–∞ -->
            <div class="setup-section">
                <h3>‚è±Ô∏è –¢–µ–º–ø –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è</h3>
                <div class="setup-row">
                    <div class="option-buttons" id="pace-btns">
                        <button class="option-btn selected" data-value="season">–ü–æ —Å–µ–∑–æ–Ω–∞–º</button>
                        <button class="option-btn" data-value="year">–ü–æ –≥–æ–¥–∞–º</button>
                    </div>
                </div>
                <div class="pace-info" id="pace-info">
                    <strong>–ü–æ —Å–µ–∑–æ–Ω–∞–º:</strong> –∫–∞–∂–¥—ã–π —Ö–æ–¥ = –Ω–æ–≤—ã–π —Å–µ–∑–æ–Ω<br>
                    <span class="pace-example">–ó–∏–º–∞ 1992 ‚Üí –í–µ—Å–Ω–∞ 1992 ‚Üí –õ–µ—Ç–æ 1992 ‚Üí ‚Ä¶</span>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ -->
            <div class="start-preview" id="start-preview"></div>

            <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ -->
            <button id="start-btn" class="primary">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            
            <!-- –ü–ª–∞—à–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (—Ç–æ–ª—å–∫–æ –∑–¥–µ—Å—å) -->
            <div style="margin-top: 20px; padding: 12px; background: rgba(212, 160, 23, 0.1); border: 1px solid #d4a017; border-radius: 6px; text-align: center; font-size: 0.85rem;">
                <p style="margin: 0 0 5px 0; color: #d4a017;">üíñ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</p>
                <p style="margin: 0; color: var(--text-dim);">
                    –û—Ç–≤–µ—Ç—ã –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –Ω–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞. –ü–æ–º–æ—á—å —Å –æ–ø–ª–∞—Ç–æ–π API:<br>
                    <strong style="color: var(--text-main);">+7 950 004-88-24</strong> (–û–∑–æ–Ω, –î–∞—Ä—å—è)
                </p>
            </div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ò–ù–¢–ï–†–§–ï–ô–° –ò–ì–†–´ (—Å–∫—Ä—ã—Ç –¥–æ –Ω–∞—á–∞–ª–∞) -->
    <div class="container hidden" id="game-ui">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å (–æ—Å–Ω–æ–≤–Ω–∞—è) - –±–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å–∫—Ä–æ–ª–ª–æ–≤ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–ª–∞—à–µ–∫ -->
        <div class="panel">
            <div class="date-badge" id="date-display">
                <span id="date-text">...</span>
                <span class="location" id="location-display"></span>
            </div>
            <div id="story-display" class="story-content"></div>
            <div class="loading-bar" id="loader"></div>
            <div class="choices" id="choices-display"></div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å (—Å—Ç–∞—Ç—ã –∏ –º–∏—Ä) - –∑–¥–µ—Å—å –º–æ–∂–Ω–æ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –ø–ª–∞—à–∫—É –≤–Ω–∏–∑—É, –Ω–µ –º–µ—à–∞—è -->
        <div class="panel" style="max-height: 95vh; overflow-y: auto;">
            <div id="mode-display"></div>
            <h3 style="margin-top:0">–õ–∏—á–Ω–æ—Å—Ç—å</h3>
            <div id="stats-display"></div>
            <div class="lore-section"><h3>–ë–ª–∏–∑–∫–∏–µ –ª—é–¥–∏</h3><div id="npcs-display"></div></div>
            <div class="lore-section"><h3>–í–µ—â–∏ –∏ –ü–∞–º—è—Ç—å</h3><div id="inventory-display"></div></div>
            
            <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
           <div style="display: flex; gap: 10px; margin: 25px 0 15px;">
    <button onclick="copyHistoryToClipboard()" style="flex:1; background:#f0e9de; color:var(--text-dim); border:1px solid var(--border-color); padding:10px 12px; font-size:0.8rem; cursor:pointer; border-radius:40px; font-family:var(--font-serif); transition:0.2s;">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é</button>
    <button onclick="resetGame()" style="flex:1; background:#f0e9de; color:var(--text-dim); border:1px solid var(--border-color); padding:10px 12px; font-size:0.8rem; cursor:pointer; border-radius:40px; font-family:var(--font-serif); transition:0.2s;">üîÑ –°–±—Ä–æ—Å</button>
</div>
            
            <!-- –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –ø–ª–∞—à–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –∏–≥—Ä–æ–≤–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ (–∫–æ–º–ø–∞–∫—Ç–Ω–∞—è) -->
            <div style="padding: 8px; background: rgba(212, 160, 23, 0.1); border: 1px solid #d4a017; border-radius: 4px; text-align: center; font-size: 0.7rem;">
                <span style="color: var(--text-dim);">üíñ </span>
                <span style="color: #d4a017; font-weight: bold;">+7 950 004-88-24</span>
                <span style="color: var(--text-dim);"> (–î–∞—Ä—å—è, –û–∑–æ–Ω)</span>
            </div>
        </div>
    </div>

</body>
</html>